{"version":3,"file":"static/js/237.693b7732.chunk.js","mappings":"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","sources":["api/movie-service.js","webpack://react-homework-template/./src/components/Loader/Loader.module.css?d03f","components/Loader/Loader.jsx","hooks/useFetchData.js","components/MovieCard/MovieCard.jsx","components/GoBackBtn/GoBackBtn.jsx","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = 'ecf1e97b02d331ed89fab73e637afa61';\n\nconst BASE_URL = 'http://api.themoviedb.org/3';\n\nexport const getTrendingMovies = async () => {\n  try {\n    const data = await axios.get(\n      `${BASE_URL}/trending/movie/day?api_key=${API_KEY}`\n    );\n    return data.data.results;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getMovieDetails = async movieId => {\n  try {\n    const data = await axios.get(\n      `${BASE_URL}/movie/${movieId}?api_key=${API_KEY}&language=en-US`\n    );\n    return data.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getMovieCredits = async movieId => {\n  try {\n    const data = await axios.get(\n      `${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n    );\n    return data.data.cast;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getMovieReviews = async movieId => {\n  try {\n    const data = await axios.get(\n      `${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US`\n    );\n    return data.data.results;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getSearchedMovie = async query => {\n  try {\n    const data = await axios.get(\n      `${BASE_URL}/search/movie?api_key=${API_KEY}&language=en-US&query=${query}`\n    );\n    return data.data.results;\n  } catch (error) {\n    console.log(error);\n  }\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"loaderContainer\":\"Loader_loaderContainer__UDDYf\"};","import { ColorRing } from 'react-loader-spinner';\nimport css from './Loader.module.css';\n\nexport const Loader = () => {\n  return (\n    <div className={css.loaderContainer}>\n      <ColorRing\n        visible={true}\n        height=\"80\"\n        width=\"80\"\n        ariaLabel=\"blocks-loading\"\n        wrapperStyle={{}}\n        wrapperClass=\"blocks-wrapper\"\n        colors={['#e15b64', '#f47e60', '#f8b26a', '#abbd81', '#849b87']}\n      />\n    </div>\n  );\n};\n","import { useEffect, useState } from 'react';\n\nexport const useFetchData = (callback, deps = []) => {\n  const [data, setData] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isError, setIsError] = useState(false);\n\n  useEffect(() => {\n    if (!callback && !deps.length) return;\n    const fetchData = async () => {\n      try {\n        setIsLoading(true);\n        const resData = await callback();\n        setData(resData);\n      } catch (error) {\n        setIsError(true);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, deps);\n  return {\n    data,\n    isError,\n    isLoading,\n  };\n};\n","import { Suspense } from 'react';\nimport { useLocation, Link, Outlet } from 'react-router-dom';\nimport { routes } from 'routes';\n\nexport const MovieCard = ({ movie }) => {\n  console.log(movie);\n\n  const getUserScore = () => {\n    return Math.round(movie.vote_average * 10);\n  };\n  const location = useLocation();\n  return (\n    <>\n      <div>\n        <img\n          src={`https://image.tmdb.org/t/p/w500${movie.poster_path}`}\n          alt={movie.title || movie.name}\n        />\n        <h2>{movie.title || movie.name}</h2>\n\n        <span>User score: {getUserScore()}%</span>\n        <h3>Overview</h3>\n        <span>{movie.overview}</span>\n        <h3>Genres</h3>\n        <span>{movie.genres.map(el => el.name).join(' ')}</span>\n      </div>\n      <div>\n        <h3>Additional Information</h3>\n        <Link state={location.state} to={routes.CAST}>\n          Cast\n        </Link>\n        <Link state={location.state} to={routes.REVIEWS}>\n          Reviews\n        </Link>\n      </div>\n      <Suspense>\n        <Outlet />\n      </Suspense>\n    </>\n  );\n};\n","import { Link } from 'react-router-dom';\n\nexport const GoBackBtn = ({ path }) => {\n  return <Link to={path}>go back</Link>;\n};\n","import { getMovieDetails } from 'api/movie-service';\nimport { useFetchData } from 'hooks/useFetchData';\nimport { MovieCard } from 'components/MovieCard/MovieCard';\nimport { Loader } from 'components/Loader/Loader';\nimport { useLocation, useParams } from 'react-router-dom';\nimport { GoBackBtn } from 'components/GoBackBtn/GoBackBtn';\n\nexport const MovieDetails = () => {\n  console.log('MovieDetails');\n  const location = useLocation();\n  const { movieId } = useParams();\n\n  const { data: movie, isError, isLoading } = useFetchData(\n    () => getMovieDetails(movieId),\n    [movieId]\n  );\n\n  if (isError) {\n    return <p>Error</p>;\n  }\n\n  return (\n    <>\n      <h1>Movie Details</h1>\n      <GoBackBtn path={location.state?.from}></GoBackBtn>\n      {isLoading ? <Loader /> : movie && <MovieCard movie={movie} />}\n    </>\n  );\n};\n\n// import { Suspense } from 'react';\n// import { Outlet as RouterOutlet } from 'react-router-dom';\n// import { Loader } from '../loader/Loader';\n\n// export const Outlet = ({ className, ...props }) => {\n//   return (\n//     <Suspense fallback={<Loader className={className} />}>\n//       <RouterOutlet {...props} />\n//     </Suspense>\n//   );\n// };\n"],"names":["API_KEY","BASE_URL","getTrendingMovies","axios","data","results","console","log","getMovieDetails","movieId","getMovieCredits","cast","getMovieReviews","getSearchedMovie","query","Loader","className","css","visible","height","width","ariaLabel","wrapperStyle","wrapperClass","colors","useFetchData","callback","deps","useState","setData","isLoading","setIsLoading","isError","setIsError","useEffect","length","fetchData","resData","MovieCard","movie","location","useLocation","src","poster_path","alt","title","name","Math","round","vote_average","overview","genres","map","el","join","state","to","routes","Suspense","GoBackBtn","path","MovieDetails","useParams","from"],"sourceRoot":""}